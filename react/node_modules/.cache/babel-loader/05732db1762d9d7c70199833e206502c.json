{"ast":null,"code":"import _asyncToGenerator from\"/Users/parkchan/Desktop/coding/collab/firstcollabo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/parkchan/Desktop/coding/collab/firstcollabo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/parkchan/Desktop/coding/collab/firstcollabo/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from\"react\";import{useParams}from\"react-router\";import Navi from\"../components/Navi\";import axios from\"axios\";import{Button}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewPost(){var _useParams=useParams(),name=_useParams.name;var username=sessionStorage.getItem(\"username\");var universityname=sessionStorage.getItem(\"universityname\");var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var handleTitle=function handleTitle(event){setTitle(event.target.value);};var handleContent=function handleContent(event){setContent(event.target.value);};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();i=1;case 2:if(!(i<100)){_context.next=8;break;}_context.next=5;return axios.post(\"/newpost\",{boardname:name,title:title+i.toString(),content:content+i.toString(),date:new Date().toISOString().slice(0,19).replace(\"T\",\" \"),universityname:universityname,username:username});case 5:i++;_context.next=2;break;case 8:document.location.href=\"/everyboard/\".concat(name);case 9:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navi,{}),username===null||universityname===null?/*#__PURE__*/_jsx(\"h2\",{children:\"\\uBA3C\\uC800 \\uB85C\\uADF8\\uC778 \\uD574\\uC8FC\\uC138\\uC694\"}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,style:{width:\"70%\",height:\"300px\",margin:\"100px\"},children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-floating\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"textarea\",{style:{lineHeight:\"20px\",height:\"20px\",padding:\"0 5px\",resize:\"none\"},value:title,onChange:handleTitle,type:\"text\",class:\"form-control\",id:\"title\",maxLength:\"40\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-floating\",style:{width:\"100%\"},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{style:{minHeight:\"200px\",resize:\"none\"},value:content,onChange:handleContent,type:\"text\",class:\"form-control\",id:\"content\"})]}),/*#__PURE__*/_jsx(Button,{class:\"w-100 btn btn-lg btn-secondary\",type:\"submit\",children:\"\\uC644\\uB8CC\"})]})]});}export default NewPost;","map":{"version":3,"sources":["/Users/parkchan/Desktop/coding/collab/firstcollabo/src/routes/newpost.js"],"names":["useState","useParams","Navi","axios","Button","NewPost","name","username","sessionStorage","getItem","universityname","title","setTitle","content","setContent","handleTitle","event","target","value","handleContent","onSubmit","preventDefault","i","post","boardname","toString","date","Date","toISOString","slice","replace","document","location","href","width","height","margin","lineHeight","padding","resize","minHeight"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport Navi from \"../components/Navi\";\nimport axios from \"axios\";\nimport { Button } from \"react-bootstrap\";\n\nfunction NewPost() {\n  const { name } = useParams();\n  const username = sessionStorage.getItem(\"username\");\n  const universityname = sessionStorage.getItem(\"universityname\");\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const handleTitle = (event) => {\n    setTitle(event.target.value);\n  };\n  const handleContent = (event) => {\n    setContent(event.target.value);\n  };\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    for (let i = 1; i < 100; i++) {\n      await axios.post(`/newpost`, {\n        boardname: name,\n        title: title + i.toString(),\n        content: content + i.toString(),\n        date: new Date().toISOString().slice(0, 19).replace(\"T\", \" \"),\n        universityname: universityname,\n        username: username,\n      });\n    }\n\n    document.location.href = `/everyboard/${name}`;\n  };\n  return (\n    <div>\n      <Navi />\n      {username === null || universityname === null ? (\n        <h2>먼저 로그인 해주세요</h2>\n      ) : (\n        <form\n          onSubmit={onSubmit}\n          style={{\n            width: \"70%\",\n            height: \"300px\",\n            margin: \"100px\",\n          }}\n        >\n          <div class=\"form-floating\" style={{ width: \"100%\" }}>\n            <h5>제목</h5>\n            <textarea\n              style={{\n                lineHeight: \"20px\",\n                height: \"20px\",\n                padding: \"0 5px\",\n                resize: \"none\",\n              }}\n              value={title}\n              onChange={handleTitle}\n              type=\"text\"\n              class=\"form-control\"\n              id=\"title\"\n              maxLength=\"40\"\n            ></textarea>\n          </div>\n          <div class=\"form-floating\" style={{ width: \"100%\" }}>\n            <h5>내용</h5>\n            <textarea\n              style={{ minHeight: \"200px\", resize: \"none\" }}\n              value={content}\n              onChange={handleContent}\n              type=\"text\"\n              class=\"form-control\"\n              id=\"content\"\n            ></textarea>\n          </div>\n          <Button class=\"w-100 btn btn-lg btn-secondary\" type=\"submit\">\n            완료\n          </Button>\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default NewPost;\n"]},"metadata":{},"sourceType":"module"}